<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EvolvingTrader - AI-Powered Trading Strategy</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
            color: #2c3e50;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .status-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .status-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }
        .status-card h3 {
            color: #34495e;
            margin-bottom: 15px;
        }
        .status-value {
            font-size: 24px;
            font-weight: bold;
            color: #27ae60;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .metrics-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .metrics-card h3 {
            color: #34495e;
            text-align: center;
            margin-bottom: 15px;
        }
        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .chart-container h3 {
            color: #34495e;
            text-align: center;
            margin-bottom: 15px;
        }
        .metric-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #ecf0f1;
        }
        .metric-item:last-child {
            border-bottom: none;
        }
        .footer {
            text-align: center;
            margin-top: 50px;
            color: #7f8c8d;
            font-size: 12px;
        }
        .update-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #27ae60;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 12px;
        }
        .demo-notice {
            background: #3498db;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="demo-notice">
            <strong>ğŸš€ Live Demo:</strong> This is a demonstration of the EvolvingTrader AI-powered trading strategy dashboard. 
            Data shown is simulated for demonstration purposes.
        </div>

        <div class="header">
            <h1>EvolvingTrader - AI-Powered Trading Strategy</h1>
            <p>Real-time performance monitoring and analysis</p>
        </div>

        <div class="update-indicator" id="updateIndicator">
            Last updated: <span id="lastUpdate">--</span>
        </div>

        <div class="status-cards">
            <div class="status-card">
                <h3>Engine Status</h3>
                <div class="status-value" id="engineStatus">ğŸŸ¢ Running</div>
            </div>
            <div class="status-card">
                <h3>Current Balance</h3>
                <div class="status-value" id="currentBalance">$1,250.00</div>
            </div>
            <div class="status-card">
                <h3>Total Return</h3>
                <div class="status-value" id="totalReturn">+25.00%</div>
            </div>
        </div>

        <div class="metrics-grid">
            <div class="metrics-card">
                <h3>Performance Metrics</h3>
                <div class="metric-item">
                    <span>ğŸ“Š Total Trades:</span>
                    <span id="totalTrades">45</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ¯ Win Rate:</span>
                    <span id="winRate">68.9%</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ’° Total P&L:</span>
                    <span id="totalPnl">$250.00</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ“ˆ Profit Factor:</span>
                    <span id="profitFactor">2.1</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ“‹ Active Positions:</span>
                    <span id="activePositions">3</span>
                </div>
            </div>

            <div class="metrics-card">
                <h3>Active Positions</h3>
                <div id="positionsList">
                    <div class="metric-item">
                        <span>ğŸ”¸ BTCUSDT:</span>
                        <span>BUY 0.01 @ $45,000</span>
                    </div>
                    <div class="metric-item">
                        <span>ğŸ”¸ ETHUSDT:</span>
                        <span>SELL 0.5 @ $3,200</span>
                    </div>
                    <div class="metric-item">
                        <span>ğŸ”¸ ADAUSDT:</span>
                        <span>BUY 100 @ $0.45</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="chart-container">
            <h3>Cumulative P&L Over Time</h3>
            <div id="performanceChart" style="height: 400px;"></div>
        </div>

        <div class="chart-container">
            <h3>Win Rate Analysis</h3>
            <div id="winRateChart" style="height: 400px;"></div>
        </div>

        <div class="chart-container">
            <h3>P&L Distribution</h3>
            <div id="pnlDistributionChart" style="height: 400px;"></div>
        </div>

        <div class="metrics-grid">
            <div class="metrics-card">
                <h3>Strategy Parameters</h3>
                <div class="metric-item">
                    <span>ğŸ”§ RSI Period:</span>
                    <span>14</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ”§ RSI Oversold:</span>
                    <span>30</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ”§ RSI Overbought:</span>
                    <span>70</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ”§ Max Position Size:</span>
                    <span>0.1</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ”§ Stop Loss %:</span>
                    <span>2.0%</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ”§ Take Profit %:</span>
                    <span>4.0%</span>
                </div>
            </div>

            <div class="metrics-card">
                <h3>AI Memory Statistics</h3>
                <div class="metric-item">
                    <span>ğŸ§  Total Vectors:</span>
                    <span>1,250</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ“ Trade Records:</span>
                    <span>45</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ“ Strategy Evolutions:</span>
                    <span>12</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ“ Market Patterns:</span>
                    <span>89</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ¤– LLM Analyses:</span>
                    <span>8</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ“Š Performance Reviews:</span>
                    <span>3</span>
                </div>
            </div>
        </div>

        <div class="metrics-grid">
            <div class="metrics-card">
                <h3>Risk Management</h3>
                <div class="metric-item">
                    <span>âš ï¸ Risk Score:</span>
                    <span style="color: #27ae60;">Low (25/100)</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ“‰ Max Drawdown:</span>
                    <span>3.2%</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ“Š Sharpe Ratio:</span>
                    <span>1.85</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ¯ Calmar Ratio:</span>
                    <span>7.81</span>
                </div>
            </div>

            <div class="metrics-card">
                <h3>Market Analysis</h3>
                <div class="metric-item">
                    <span>ğŸ“ˆ Market Regime:</span>
                    <span style="color: #27ae60;">Trending Up</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ“Š Volatility:</span>
                    <span>Medium (2.1%)</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ”„ Trend Strength:</span>
                    <span>Strong (ADX: 28)</span>
                </div>
                <div class="metric-item">
                    <span>ğŸ“ˆ Sentiment:</span>
                    <span style="color: #27ae60;">Bullish</span>
                </div>
            </div>
        </div>

        <div class="footer">
            <p><strong>EvolvingTrader</strong> - AI-Powered Trading Strategy</p>
            <p>Real-time data updates every 5 seconds | Powered by GPT-5, Pinecone, and Advanced ML</p>
            <p>Starting Capital: $1,000 | Current Performance: +25% | Win Rate: 68.9%</p>
        </div>
    </div>

    <script>
        // Mock data for demonstration
        const mockTrades = [
            { pnl: 25.5, trade: 1 },
            { pnl: -12.3, trade: 2 },
            { pnl: 18.7, trade: 3 },
            { pnl: 31.2, trade: 4 },
            { pnl: -8.9, trade: 5 },
            { pnl: 22.1, trade: 6 },
            { pnl: 15.8, trade: 7 },
            { pnl: -5.4, trade: 8 },
            { pnl: 28.3, trade: 9 },
            { pnl: 19.6, trade: 10 },
            { pnl: 33.1, trade: 11 },
            { pnl: -7.2, trade: 12 },
            { pnl: 24.8, trade: 13 },
            { pnl: 16.5, trade: 14 },
            { pnl: -3.9, trade: 15 },
            { pnl: 29.7, trade: 16 },
            { pnl: 21.4, trade: 17 },
            { pnl: -4.8, trade: 18 },
            { pnl: 26.2, trade: 19 },
            { pnl: 17.9, trade: 20 }
        ];

        // Calculate cumulative P&L
        let cumulativePnl = 0;
        const cumulativeData = mockTrades.map(trade => {
            cumulativePnl += trade.pnl;
            return {
                x: trade.trade,
                y: cumulativePnl
            };
        });

        // Calculate rolling win rate
        const winRateData = [];
        for (let i = 0; i < mockTrades.length; i++) {
            const window = Math.min(10, i + 1);
            const recentTrades = mockTrades.slice(Math.max(0, i - window + 1), i + 1);
            const wins = recentTrades.filter(trade => trade.pnl > 0).length;
            const winRate = (wins / recentTrades.length) * 100;
            winRateData.push({
                x: i + 1,
                y: winRate
            });
        }

        // Create performance chart
        Plotly.newPlot('performanceChart', [{
            x: cumulativeData.map(d => d.x),
            y: cumulativeData.map(d => d.y),
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Cumulative P&L',
            line: { color: '#3498db', width: 3 },
            marker: { size: 6 }
        }], {
            title: 'Cumulative P&L Over Time',
            xaxis: { title: 'Trade Number' },
            yaxis: { title: 'Cumulative P&L (USDT)' },
            hovermode: 'x unified',
            showlegend: false
        });

        // Create win rate chart
        Plotly.newPlot('winRateChart', [{
            x: winRateData.map(d => d.x),
            y: winRateData.map(d => d.y),
            type: 'scatter',
            mode: 'lines',
            name: 'Rolling Win Rate (10 trades)',
            line: { color: '#27ae60', width: 3 }
        }], {
            title: 'Rolling Win Rate',
            xaxis: { title: 'Trade Number' },
            yaxis: { title: 'Win Rate (%)', range: [0, 100] },
            showlegend: false
        });

        // Create P&L distribution chart
        Plotly.newPlot('pnlDistributionChart', [{
            x: mockTrades.map(trade => trade.pnl),
            type: 'histogram',
            name: 'P&L Distribution',
            marker: { color: '#3498db' },
            nbinsx: 10
        }], {
            title: 'P&L Distribution',
            xaxis: { title: 'P&L (USDT)' },
            yaxis: { title: 'Frequency' },
            showlegend: false
        });

        // Update timestamp
        function updateTimestamp() {
            const now = new Date();
            document.getElementById('lastUpdate').textContent = now.toLocaleTimeString();
        }

        // Simulate real-time updates
        function simulateUpdates() {
            // Randomly update some values
            const balance = parseFloat(document.getElementById('currentBalance').textContent.replace('$', '').replace(',', ''));
            const change = (Math.random() - 0.5) * 10; // Random change between -5 and +5
            const newBalance = Math.max(1000, balance + change);
            document.getElementById('currentBalance').textContent = `$${newBalance.toFixed(2)}`;

            const returnPct = ((newBalance - 1000) / 1000) * 100;
            document.getElementById('totalReturn').textContent = `${returnPct >= 0 ? '+' : ''}${returnPct.toFixed(2)}%`;

            // Update P&L
            const pnl = newBalance - 1000;
            document.getElementById('totalPnl').textContent = `$${pnl.toFixed(2)}`;

            // Update trade count (simulate new trades)
            const currentTrades = parseInt(document.getElementById('totalTrades').textContent);
            if (Math.random() > 0.7) { // 30% chance of new trade
                document.getElementById('totalTrades').textContent = currentTrades + 1;
            }

            updateTimestamp();
        }

        // Initial timestamp
        updateTimestamp();

        // Update every 5 seconds
        setInterval(simulateUpdates, 5000);
    </script>
</body>
</html>